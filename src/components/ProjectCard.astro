---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

export interface Props {
  name: string;
  year: string;
  images: ImageMetadata[];
  slug: string;
}

const { name, year, images, slug } = Astro.props;
---

<style>
    .project-card {
        transition: opacity 0.3s ease;
    }

    .thumb-wrapper {
        position: relative;
        display: flex;
        align-items: flex-end;
        overflow: hidden;
    }

    .thumb {
        width: 100%;
        height: auto;
        max-height: 400px;
        object-fit: contain;
        border-radius: .1rem;
        transition: opacity 0.3s ease;
    }

    .meta {
        display: flex;
        gap: .5rem;
        align-items: center;
        padding: .5rem 0;
    }

    .meta * {
        font-size: .75rem;
        font-weight: 500;
    }

    .meta p {
        color: #aaa;
    }

    .project-card.active .thumb {
        opacity: 1;
    }

    .project-card:hover .thumb {
        opacity: 1;
    }

    @media (min-width: 1024px) {
        .thumb {
            opacity: 0.025;
        }

        .overlay {
            display: flex;
        }
    }

</style>

<a href={`/${slug}`} class="project-card hover-target">
    <div class="thumb-wrapper">
        <Image src={images[0]} alt={name} class="thumb" />
    </div>
    <div class="meta">
        <h2>{name}</h2>
        <p><strong>{year}</strong></p>
    </div>
</a>